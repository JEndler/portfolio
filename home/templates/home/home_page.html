{% extends "base.html" %}
{% load static %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}
{% block content %}
  <div class="content">
                <canvas class="scene scene--full" id="scene" style="width: 100%; height: 100vh;"></canvas>
                <script type="x-shader/x-vertex" id="wrapVertexShader">
                    attribute float size;
                    attribute vec3 color;
                    varying vec3 vColor;
                    void main() {
                        vColor = color;
                        vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
                        gl_PointSize = size * ( 350.0 / - mvPosition.z );
                        gl_Position = projectionMatrix * mvPosition;
                    }
                </script>
                <script type="x-shader/x-fragment" id="wrapFragmentShader">
                    varying vec3 vColor;
                    uniform sampler2D texture;
                    void main(){
                        vec4 textureColor = texture2D( texture, gl_PointCoord );
                        if ( textureColor.a < 0.3 ) discard;
                        vec4 color = vec4(vColor.xyz, 1.0) * textureColor;
                        gl_FragColor = color;
                    }
                </script>
            </div>
        </main>
        <script src="{% static 'js/demo.js' %}"></script>
        <script src="{% static 'js/three.min.js' %}"></script>
        <script src="{% static 'js/TweenMax.min.js' %}"></script>
        <script src="{% static 'js/demo1.js' %}"></script>

  <header class="header" role="banner" id="top">
    <div class="header__text-box row">
      <div class="header__text">
        <h1 class="heading-primary">
          <span>{{ page.headline }}</span>
        </h1>
        <!-- Put a small paragraph about yourself -->
        <p>{{ page.subheadline }}</p>
        <a href="#contact" class="btn btn--pink">Get in touch</a>
      </div>
    </div>
  </header>

  <main role="main">

    <!-- ***** Work ***** -->

    <section class="work" id="work">
      <div class="row">
        <h2>My Projects</h2>
        <div class="work__boxes">

          <!-- Each div with the work__box class is a project. -->
          {% for project in page.get_children %}
          <div class="work__box">
            <div class="work__text">
              <h3>{{ project.title }}</h3>
              <p>
                {{ project.specific.subtitle }}
              </p>
              <ul class="work__list">
                {% for tag in project.specific.tags.all %}
                  <li>{{ tag }}</li>
                {% endfor %}
              </ul>

              <div class="work__links">
                <a href="https://www.{{ project.specific.button_href }}" target="_blank" class="link__text">
                  {{ project.specific.button_text }} <span>&rarr;</span>
                </a>
                <a href="https://{{ project.specific.github_href }}" title="View Source Code" target="_blank">
                  <img src="{% static 'img/github.svg' %}" class="work__code" alt="GitHub">
                </a>
              </div>
            </div>
            <div class="work__image-box">
              {% image project.specific.big_image original class="work__image" %}
            </div>
          </div>
          {% endfor %}


  <!-- ***** Contact ***** -->

  <section class="contact" id="contact">
    <div class="row">
      <h2>Get in Touch</h2>
      <div class="contact__info">
        <p>
          {{ page.get_in_touch_text|richtext }}
        </p>
        <!-- Replace the email with yours -->
        <a href="mailto:jakob.endler@hotmail.de" class="btn">jakob.endler@hotmail.de</a>
      </div>
    </div>
  </section>
{% endblock %}